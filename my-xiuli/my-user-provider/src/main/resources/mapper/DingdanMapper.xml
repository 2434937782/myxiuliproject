<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.kgc.mapper.DingdanMapper">
    <select id="getdingdan" resultType="com.kgc.pojo.Dingdan">
        select *
        From dingdan INNER JOIN users_message
        ON dingdan.userid=users_message.id
        <where>
            <if test="userid!=null and userid!=-1">
                and userid=#{userid}
            </if>
        </where>
        order by  id
        LIMIT  ${start},${size}
    </select>

    <select id="count" resultType="int">
        select count(*)
        From dingdan
        <where>
            <if test="userid!=null and userid!=-1">
                and userid=#{userid}
            </if>
        </where>
    </select>

    <select id="getById" resultType="com.kgc.pojo.Dingdan">
        SELECT * FROM ddxq WHERE ddxqid=#{ddxqid}
    </select>



    <insert id="add" parameterType="com.kgc.pojo.Dingdan">
        insert into dingdan values(null,#{tupian},#{ddmz} ,#{ddjg},#{userid},#{goodid})
    </insert>

</mapper>  